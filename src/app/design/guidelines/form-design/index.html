<stache
    pageTitle="Form design"
    showTableOfContents="true"
		navOrder="5">
		
		<stache-page-summary>
			<p>
				Form design patterns provide guidance to accommodate a wide variety scenarios and workflow requirements.
			</p>
		</stache-page-summary>

	<stache-page-anchor>
		Field layout
	</stache-page-anchor>
	
	<div class="sky-subsection-heading">
		General field layout
	</div>
	<stache-row>
		<stache-column screenSmall="6">
			<p>
				Fields should generally flow vertically. Wrap fields in <a routerLink="/components/form" fragment="form-group">the <stache-code>sky-form-group</stache-code> class</a> to provide the correct amount of vertical padding between fields.
			</p> 
			<p>
				The most common exception is closely related fields such as first and last name fields that can flow horizontally. If you use a horizontal flow, use <a routerLink="/components/fluid-grid">a fluid grid layout</a> to ensure that the form scales properly to smaller viewports.
			</p> 
			<p>
				Use these three column widths when designing a form:
			</p>
			<ul>
				<li>
					<p>
						1/3 width (4 fluid grid columns)
					</p>
				</li>
				<li>
					<p>
						1/2 width (6 fluid grid columns)
					</p>
				</li>
				<li>
					<p>
						Full width
					</p>
				</li>
			</ul>
			<p>
				Single-line alphanumeric inputs can use the appropriate column width based on the expected content.
			</p>
			<p>
				Multi-line alphanumeric inputs, checkboxes, and radio buttons should generally be full width.
			</p>
			
			<div class="sky-subsection-heading">
				Subsections
			</div>
			<p>
				To visually separate a small set of fields such as address fields from other fields, use 20px of vertical spacing and a subsection header with <a routerLink="/design/styles/typography">the <stache-code>sky-subsection-heading</stache-code> class</a>.
			</p>
			
			<div class="sky-subsection-heading">
				Tiles
			</div>
			<p>
				If a form collects multiple facets of information and users need to fill out all of them, use tiles to group the fields of those facets.
			</p>
			
			<div class="sky-subsection-heading">
				Sub-forms
			</div>
			<p>
				If alternate workflows are not feasible, itâ€™s acceptable to launch modal forms from within modal forms. For scenarios that require sub-forms, such as when users need to add multiple instances of a child record, follow the form container guidelines above.
			</p>
			<p>
				If you do not save sub-form data until users save the underlying form, then change the submit button's label from <span class="sky-emphasized">Save</span> to <span class="sky-emphasized">Done</span> to indicate that the data is not saved.
			</p>
			
			<div class="sky-subsection-heading">
				Conditionally applicable fields
			</div>
			<p>
				If fields are only applicable when other fields meet conditions such as checkboxes being selected, then display but disable those fields when conditions are not met.
			</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info">
				<img class="sky-shadow" src="~/assets/img/guidelines/formdesign/form-layout.png" style="width: 100%;" />
			</div>
		</stache-column>
	</stache-row>
	
	<stache-page-anchor>
		Field usability
	</stache-page-anchor>
	<stache-row>
		<stache-column screenSmall="8">
			<div class="sky-subsection-heading">
				Labels
			</div>
			<p>
				All fields require labels, and they should generally appear to the top left of text inputs. Don't use colons after label text. To apply the correct styling to labels, use <a routerLink="/components/form" fragment="control-label"> the <stache-code>sky-control-label</stache-code> class</a>.
			</p>
			<p>Use nouns for form field labels. Don't use verbs or questions.</p>
			<div>Use:</div>
				<ul>
					<li>"Zip code"</li>
				</ul>
			<div>Don't use:</div>
				<ul>
					<li>"Enter your Zip code"</li>
					<li>"What is your Zip code?"</li>
				</ul>
			
			<div class="sky-subsection-heading">
				Placeholder text
			</div>
			<p>
				You can use a small amount of placeholder text to help users with data entry. Do not use placeholder text in place of field labels.
			</p>
			
			<div class="sky-subsection-heading">
				Inline help
			</div>
			<p>
				For information about whether to use persistent inline help or invoked inline help content, see the <a routerLink="/design/guidelines/user-assistance">user assistance guidelines</a>.
			</p>
		</stache-column>
		<stache-column screenSmall="4">
			<div class="screenshot screenshot-info">
				<img class="sky-shadow" class="sky-shadow" src="~/assets/img/guidelines/formdesign/field-example-detailed.png" style="width: 100%;" />
			</div>
		</stache-column>
	</stache-row>
		
	<stache-page-anchor>
		Validation and error handling
	</stache-page-anchor>	
	
	<div class="sky-subsection-heading">
		Validation timing
	</div>
	<p>
		When users fill out forms, notify them about errors as soon as possible so that they can correct errors within the flow of their tasks rather than at the end when they think they are done. The preferred order for validation timing is:
	</p>
	<ol>
		<li>
			<p>
				When users are typing if a clear check is possible before they finish. For example, a check is possible when users enter text in numeric inputs.
			</p>
		</li>
		<li>
			<p>
				When fields lose focus.
			</p>
		</li>
		<li>
			<p>
				When users submit forms.
			</p>
		</li>
	</ol>
	
	<div class="sky-subsection-heading">
		Required fields
	</div>
	<p>
		Required fields are denoted with a red asterisk to the right of field labels. To apply this styling, use <a routerLink="/components/form" fragment="required-fields">the <stache-code>sky-control-label-required</stache-code> class</a>. To make the fields accessible, you also need to add the <stache-code>aria-required=true</stache-code> property.
	</p>
	<p>
		The <a routerLink="/components/sectioned-form">sectioned form</a> component includes a property to display the red asterisk in the tab panel of tabs that contain required fields.
	</p>
	
	<div class="sky-subsection-heading">
		Other validation
	</div>
	<p>
		Use the validation that is available in the <a routerLink="/components/datepicker">datepicker</a>, <a routerLink="/components/timepicker">timepicker</a>, <a routerLink="/components/email-validation">email validation</a>, and <a routerLink="/components/url-validation">URL validation</a> components when you collect those types of data. You can also create custom validation as necessary.
	</p>
	
	<div class="sky-subsection-heading">
		Error states
	</div>
	<stache-row>
    <stache-column screenSmall="6">
			<p>
				When <stache-code>input</stache-code> and <stache-code>select</stache-code> fields use Angular validation, they are <a routerLink="/components/form" fragment="error-states">automatically styled with a red glow</a> when they are in an error state.
			</p>
			<p>
				In addition to this validation, error messages are necessary to explain how to correct the errors. Generally, error messages employ one of two types, although other message types are necessary in some cases:
			</p> 
			<ol>	
				<li>
					<p>
						[Item] is required.
					</p>
				</li>
				<li>
					<p>
						Enter a valid [item].
					</p>
				</li>
			</ol>
			<p>
				Display the error messages below the affected fields and prepend a red warning icon to draw attention. To apply the correct styling, use <a routerLink="/components/form" fragment="error-states">the <stache-code>sky-error-label</stache-code> class</a>.
			</p>
			<p>
				Sometimes on long forms, fields that trigger errors are scrolled out of view. To help users identify what to correct, scroll to the first field with an error and set focus on that field.
			</p>
			<p>
				The <a routerLink="/components/sectioned-form">sectioned form</a> component includes a property to display a danger icon in the tab panel of tabs that contain fields with validation errors.
			</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info">
				<img class="sky-shadow" class="sky-shadow" src="~/assets/img/guidelines/formdesign/field-level-error.png" style="width: 100%;" />
			</div>
		</stache-column>
	</stache-row>

	<div class="sky-subsection-heading">
		Form-level errors
	</div>
	<p>
		If form content fails to load, follow the <a routerLink="/design/guidelines/error-handling" fragment="page-element-errors">error handling guidelines</a> for the relevant page-level element.
	</p>
	<stache-row>
    <stache-column screenSmall="6">
			<p>
				If form-level actions such as <span class="sky-emphasized">Save</span> break, display an error message with <a routerLink="/design/styles/typography">the <stache-code>sky-text-danger</stache-code> class</a> in the top left of the form action bar.
			</p>
		</stache-column>
		<stache-column screenSmall="6">
			<div class="screenshot screenshot-info">
				<img class="sky-shadow" class="sky-shadow" src="~/assets/img/guidelines/formdesign/form-level-error.png" style="width: 100%;" />
			</div>
		</stache-column>
	</stache-row>
</stache>
